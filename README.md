# Road-Graph

Работа по дисциплине "Теория конечных графов и ее приложения"

Выбранный город: Краснодар

OSM XML данные по городу можно скачать [здесь](https://drive.google.com/drive/folders/1UxZBQfH1b-pAJvEWIXEC8SY1lWU9PN6_?usp=sharing)

## Часть 1. «Граф дорог городов России»

На основе данных некоммерческого картографического проекта OpenStreetMap (информация о проекте: https://goo.gl/QNoPGa) построить граф дорог городов России. Всю информацию о структуре предоставляемых .OSM файлов можно найти здесь: 
* https://wiki.openstreetmap.org/wiki/OSM_XML 
* https://wiki.openstreetmap.org/wiki/Elements

В качестве решения будет засчитано следующее:

* .csv файл содержащий матрицу смежности;
* .csv файл содержащий список смежности;
* визуализация графа;
* отчет-инструкция (мануал), содержащий достаточно информации для повторения результатов (алгоритм построения, использованные инструменты).

### Описание
* Программа строит граф для дорог следующего типа: ```motorway```, ```trunk```, ```primary```, ```secondary```, ```tertiary```, ```unclassified```, ```residential```, ```road```

## Часть 2. «Кратчайшие пути в городе»

На карте города наносятся местоположения нескольких объектов (заранее заданные узлы). Далее для случайно выбранного узла найти кратчайшие пути до каждого из объектов и определить объект, ближайший к выбранному узлу.

Объекты выбираются из одной из нижеперечисленных категорий:

1. Больницы города (без учета специализации мед. учреждения (детская, взрослая, психиатрическая и т.п.));
2. Крупные супермаркеты
3. Рестораны
4. Магазины бытовой техники

Координаты объектов взять по местоположению реальных больниц, магазинов и т.п. города. Ограничение на количество – 10 штук.

1. Реализовать интерфейс для ввода координат местонахождения пациента/клиента. Отобразить на карте города кратчайшие пути до всех объектов и выделить ближайший и путь до него.
2. Провести тестирование 3-х алгоритмов поиска кратчайших путей на 100 случайных точках (равномерно распределенных по городу). Сравнить:

    * среднее время работы алгоритмов.
    * считая, что средняя скорость движения по городу равна 40 км/ч, оценить среднее время подъезда от узла к объектам.

    Для сравнения взять алгоритмы Дейкстры, Левита и A* (“A со звездой”).
3. Протестировать работу различных эвристических функции в алгоритме A*:

    * Евклидово расстояние;
    * Мантхэттоновское расстояние;
    * Расстояние Чебышева.
    
### Результаты
* В качестве примера берется точка (45.1208, 38.9263) 
* В файле ```map_with_routes.svg``` находится карта города со всеми кратчайшими путями до госпиталей. Карасные точки - госпитали, синяя - введенная точка. Зеленая линия - самый ближайший путь, красные линии - остальные кратчайшие
* В файле ```routes.csv```  находятся маршруты в виде последовательности id узлов. Узел с id == 0 - введенный узел
* В файле ```routes_with_coords.csv``` находятся маршруты в виде последовательности (lat, lon)
* В файле ```testing.txt``` анализ результатов на 100 точках

<img src="./result/map_with_routes.svg">

## Часть 3. «Задача коммивояжера»

На карте города нанесены 10 объектов (больницы, супермаркеты). Случайный образом выбирается узел (склад), из которого строится самый выгодный (кратчайший) маршрут, проходящего через указанные объекты по одному разу с последующим с возвратом в исходный узел.

Объекты выбираются из задания 2, но при желании можно взять новые.

В качестве матрицы расстояний взять длины кратчайших путей между объектами.

1. Реализовать интерфейс для ввода координат местонахождения склада. Отобразить на карте города, полученный маршрут, отметив порядок посещения объектов.
2. Провести сравнение решений, полученных алгоритмом поиска ближайшего соседа с любым другим алгоритмом по собственному выбору.

### Результаты

* В качестве примера берется точка (45.1203, 39.0363)

Двойное минимальной остовное дерево:
<img src="./result/tsp_dmts_map.svg">

Метод ближайших соседей:
<img src="./result/tsp_nna_map.svg">
